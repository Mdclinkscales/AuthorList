(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,t,a){e.exports=a(49)},23:function(e,t,a){},30:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(16),r=a.n(o),l=(a(23),a(4)),i=(a(30),a(2)),u=a(3),s=a.n(u),m=function(e){var t=e.authorID,a=e.successCallback;return c.a.createElement("button",{onClick:function(e){s.a.delete("http://localhost:8000/api/authors"+t).then((function(e){a()}))}},"Delete")},h=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],r=a[1];Object(n.useEffect)((function(){s.a.get("http://localhost:8000/api/authors").then((function(e){return r(e.data)}))}),[]);return c.a.createElement("div",null,e.authors.map((function(e,t){return c.a.createElement("div",{className:t%2===0?"bg-light":"bg-dark text-light",key:t},c.a.createElement(l.a,{to:"/authors/"+e._id},e.name),"|",c.a.createElement(l.a,{to:"/authors/"+e._id+"/edit"},c.a.createElement("button",null,"Edit")),c.a.createElement(m,{authorID:e._id,successCallback:function(){return t=e._id,void r(o.filter((function(e){return e._id!==t})));var t}}))})))},f=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(!1),l=Object(i.a)(r,2),u=l[0],m=l[1];Object(n.useEffect)((function(){s.a.get("http://localhost:8000/api/authors").then((function(e){o(e.data),m(!0)}))}),[]);return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-4"}),c.a.createElement("div",{className:"col-sm-4"},c.a.createElement("h1",null,"Favorite Authors"),c.a.createElement("a",{href:"http://localhost:3000/new"},"Add an Author"),u&&c.a.createElement(h,{authors:a,removeFromDom:function(e){o(a.filter((function(t){return t._id!==e})))}})),c.a.createElement("div",{className:"col-sm-4"}))},d=(a(48),function(e){var t=e.linkvalue;return c.a.createElement("button",{className:"btn-light btn-inline-block",onClick:function(e){Object(l.c)("/")}},t)}),E=function(e){var t=e.initialName,a=e.onSubmitProp,o=e.editstring,r=Object(n.useState)(t),u=Object(i.a)(r,2),s=u[0],m=u[1];return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-4"}),c.a.createElement("div",{className:"col-sm-4"},c.a.createElement("div",{className:"text-center"},c.a.createElement("h1",null,"Favorite Authors"),c.a.createElement(d,{linkvalue:"Home"})),c.a.createElement("div",{className:"form-group"},c.a.createElement("h4",null,o),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a({name:s}),Object(l.c)("/")}},c.a.createElement("label",null,"Name:"),c.a.createElement("input",{className:"form-control",type:"text",name:"name",value:s,onChange:function(e){return m(e.target.value)}}),c.a.createElement("input",{className:"btn-light",type:"submit"}),c.a.createElement(d,{linkvalue:"Cancel"})))),c.a.createElement("div",{className:"col-sm-4"}))},b=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],o=t[1];Object(n.useEffect)((function(){o(!0)}),[]);return c.a.createElement("div",{className:"jumbotron"},a&&c.a.createElement(E,{initialName:"",onSubmitProp:function(e){s.a.post("http://localhost:8000/api/authors",e).then((function(e){console.log(e)}))},editstring:"Add a new author"}))},v=function(e){var t=e.id,a=Object(n.useState)(),o=Object(i.a)(a,2),r=o[0],l=o[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),h=m[0],f=m[1];Object(n.useEffect)((function(){s.a.get("http://localhost:8000/api/authors/"+t).then((function(e){l(e.data),f(!0)}))}),[]);return c.a.createElement("div",{className:"jumbotron"},h&&c.a.createElement(E,{initialName:r.name,onSubmitProp:function(e){s.a.put("http://localhost:8000/api/authors",e).then((function(e){console.log(e)}))},editstring:"Edit this author:"}))};var p=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(l.b,null,c.a.createElement(f,{path:"/"}),c.a.createElement(b,{path:"/new"}),c.a.createElement(v,{path:"authors/:id/edit"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.8274112b.chunk.js.map